  GNU nano 6.4                         screenrecord.sh                                   
waylandsw() { \
        wf-recorder -a \
        -f "$HOME/$USER/Videos/screencast-$(date '+%y%m%d-%H%M-%S').mp4" \
        -o "$monitor" \
        -m mp4 \
        -F fps=60 \
        -p rc=vbr \
        -p cq=17 \
        -x yuv444p \
        &> ffxivrecord.log & \
        pgrep wf-recorder > /tmp/recordingpid && \
        sleep 3 && (kill -0 "$(cat /tmp/recordingpid)" || notify-send -t 1000 "Recording>
        }

help() { echo \
"Triggers Screen Recording via FFMPEG with x11grab and a Pulse Audio Monitor input.

Each new instance of this script will automatically kill the previous ffmpeg instance, a>

Must be run with one of the following flags:

hw      Hardware-accelerated recording via VAAPI.
sw      Recording with software encoding (CPU intensive).
wayland Records using wf-recorder for Wayland.
kill    Kills the previous recording instance.

Any other flag will return this help message.
"
}


case "$1" in
    kill) killrecording;;
    sw) softenc;;
    hw) hardenc;;
    wl) wayland;;
    wlsw) waylandsw;;
    *) help;;
esac
